<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>计算机网络基础 | 嘉梁的博客</title>
    <meta name="generator" content="VuePress 1.9.8">
    <link rel="icon" href="/9blog/icon.jpg">
    <meta name="description" content="Welcome!">
    
    <link rel="preload" href="/9blog/assets/css/0.styles.e39160fb.css" as="style"><link rel="preload" href="/9blog/assets/js/app.3e8fe7ca.js" as="script"><link rel="preload" href="/9blog/assets/js/3.4ae95a2d.js" as="script"><link rel="preload" href="/9blog/assets/js/1.ac641155.js" as="script"><link rel="preload" href="/9blog/assets/js/33.b2484fc9.js" as="script"><link rel="prefetch" href="/9blog/assets/js/10.f32e5926.js"><link rel="prefetch" href="/9blog/assets/js/11.a32291ec.js"><link rel="prefetch" href="/9blog/assets/js/12.854853e6.js"><link rel="prefetch" href="/9blog/assets/js/13.d58b78e1.js"><link rel="prefetch" href="/9blog/assets/js/14.b74e23f1.js"><link rel="prefetch" href="/9blog/assets/js/15.36f6770d.js"><link rel="prefetch" href="/9blog/assets/js/16.542bf7be.js"><link rel="prefetch" href="/9blog/assets/js/17.e1b738e9.js"><link rel="prefetch" href="/9blog/assets/js/18.f00a61c5.js"><link rel="prefetch" href="/9blog/assets/js/19.dddc4cb9.js"><link rel="prefetch" href="/9blog/assets/js/20.895aaf01.js"><link rel="prefetch" href="/9blog/assets/js/21.b6755c35.js"><link rel="prefetch" href="/9blog/assets/js/22.38b1460c.js"><link rel="prefetch" href="/9blog/assets/js/23.21ba7001.js"><link rel="prefetch" href="/9blog/assets/js/24.38298f63.js"><link rel="prefetch" href="/9blog/assets/js/25.0834d742.js"><link rel="prefetch" href="/9blog/assets/js/26.f7a3dd00.js"><link rel="prefetch" href="/9blog/assets/js/27.b3d77e32.js"><link rel="prefetch" href="/9blog/assets/js/28.45a89b98.js"><link rel="prefetch" href="/9blog/assets/js/29.b75831cb.js"><link rel="prefetch" href="/9blog/assets/js/30.768ec0c1.js"><link rel="prefetch" href="/9blog/assets/js/31.c8818d1b.js"><link rel="prefetch" href="/9blog/assets/js/32.a8e266aa.js"><link rel="prefetch" href="/9blog/assets/js/34.347bdff3.js"><link rel="prefetch" href="/9blog/assets/js/35.42bd7061.js"><link rel="prefetch" href="/9blog/assets/js/4.153cb639.js"><link rel="prefetch" href="/9blog/assets/js/5.aa9edc01.js"><link rel="prefetch" href="/9blog/assets/js/6.d146555e.js"><link rel="prefetch" href="/9blog/assets/js/7.80cabe8f.js"><link rel="prefetch" href="/9blog/assets/js/8.9c58261e.js"><link rel="prefetch" href="/9blog/assets/js/9.f9ada005.js">
    <link rel="stylesheet" href="/9blog/assets/css/0.styles.e39160fb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>嘉梁的博客</h3> <p class="description" data-v-59e6cb88>Welcome!</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>JIALIANG</span>
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/9blog/" class="home-link router-link-active"><img src="/9blog/avatar.jpg" alt="嘉梁的博客" class="logo"> <span class="site-name">嘉梁的博客</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/9blog/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/9blog/categories/前端学习笔记/" class="nav-link"><i class="undefined"></i>
  前端学习笔记
</a></li><li class="dropdown-item"><!----> <a href="/9blog/categories/项目简介/" class="nav-link"><i class="undefined"></i>
  项目简介
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      About嘉梁
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://weibo.com/u/5532906301" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  个人微博
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/9blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/9blog/avatar.jpg" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    JIALIANG
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>25</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>49</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/9blog/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/9blog/categories/前端学习笔记/" class="nav-link"><i class="undefined"></i>
  前端学习笔记
</a></li><li class="dropdown-item"><!----> <a href="/9blog/categories/项目简介/" class="nav-link"><i class="undefined"></i>
  项目简介
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      About嘉梁
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://weibo.com/u/5532906301" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  个人微博
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/9blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>计算机网络基础</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>JIALIANG</span>
          
        <!---->
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">计算机网络基础</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>JIALIANG</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>2/2/2023</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>http</span><span class="tag-item" data-v-8a445198>https</span><span class="tag-item" data-v-8a445198>OSI</span><span class="tag-item" data-v-8a445198>TCP</span><span class="tag-item" data-v-8a445198>UDP</span></i></div></div> <div class="theme-reco-content content__default"><h2 id="osi七层模型"><a href="#osi七层模型" class="header-anchor">#</a> OSI七层模型</h2> <p>Open System Interconnection，国际标准化组织（ISO）制定的一个用于计算机或通信系统间互联的标准体系</p> <p>七层模型从上到下依次是：</p> <p>常见协议及所在层：</p> <p>http---应用层</p> <p>tcp、udp---传输层</p> <ul><li><strong>应用层</strong>：协议有：HTTP FTP TFTP SMTP SNMP DNS TELNET HTTPS POP3 DHCP</li> <li><strong>表示层</strong>：数据的表示、安全、压缩。格式有，JPEG、ASCll、DECOIC、加密格式等</li> <li><strong>会话层</strong>：建立、管理、终止会话。对应主机进程，指本地主机与远程主机正在进行的会话</li> <li><strong>传输层</strong>：定义传输数据的协议端口号，以及流控和差错校验。协议有：TCP UDP，数据包一旦离开网卡即进入网络传输层</li> <li><strong>网络层</strong>：IP地址和路由选择，进行逻辑地址寻址，实现不同网络之间的路径选择。协议有：ICMP IGMP IP（IPV4 IPV6） ARP RARP</li> <li><strong>数据链路层</strong>：建立逻辑连接、进行硬件地址寻址、差错校验等功能。将比特组合成字节进而组合成帧，用MAC地址访问介质，错误发现但不能纠正。</li> <li><strong>物理层</strong>：建立、维护、断开物理连接。</li></ul> <h2 id="websocket"><a href="#websocket" class="header-anchor">#</a> websocket</h2> <p>HTTP协议中的四大特性中有<strong>无链接</strong>：一次请求一次响应后断开链接，因此基于HTTP协议实现服务端给客户端主动推送消息有点麻烦</p> <p><strong>是一种在单个 TCP 连接上进行 全双工 通信的协议</strong></p> <p>websocket的长连接，是一个<strong>真的全双工</strong>。 长连接第一次tcp链路建立之后，后续数据可以双方都进行发送，不需要发送请求头。 keep-alive双方并没有建立正真的连接会话，服务端可以在任何一次请求完成后关闭。 WebSocket 它本身就规定了是真正的、双工的长连接，两边都必须要维持住连接的状态。</p> <p>双全工--- 通信允许数据在两个方向上同时传输</p> <h2 id="http和https的区别"><a href="#http和https的区别" class="header-anchor">#</a> http和https的区别</h2> <p>http明文传输未加密，安全性较差，不适合传输敏感信息</p> <p>超文本传输**(安全)**协议</p> <p>https则是经由http通信，但利用<strong>SSL/TLS</strong>进行加密数据包</p> <p>https开发主要目的：提供对网站服务器的<strong>身份认证</strong>，保证<strong>数据隐私和完整</strong></p> <h2 id="http消息头content-type"><a href="#http消息头content-type" class="header-anchor">#</a> http消息头content-type</h2> <p>Content-Type来表示具体请求中的媒体类型信息</p> <p>例如： Content-Type: text/html; charset:utf-8</p> <p>表示内容是html格式的内容，字符集是utf-8</p> <p>除了text还有image/png；application:json等</p> <h2 id="https加密过程"><a href="#https加密过程" class="header-anchor">#</a> https加密过程</h2> <p>HTTPS其实是有两部分组成：HTTP + SSL / TLS，也就是在HTTP上又加了一层处理加密信息的模块。服务端和客户端的信息传输都会通过TLS进行加密，所以传输的数据都是加密后的数据</p> <p><strong>为什么需要加密</strong>：http的内容是明文传输的，可能在传输过程中被劫持，遭遇中间人攻击（纂改传输的信息且不被双方察觉）所以需要加密</p> <p><strong>对称加密---速度快</strong>：加密解密所用秘钥相同，问题是如何使此秘钥让传输双方知道且不被其他人知道</p> <p><strong>非对称加密---安全</strong>：两把秘钥，一把公钥一把私钥，用公钥加密的内容必须用私钥才能解开，同样，私钥加密的内容只有公钥能解开</p> <p>仅通过非对称加密只能保证<strong>由浏览器向服务器传输数据的安全性</strong>：服务端将公钥通过明文传输的方式给客户端，客户端用公钥加密后，服务端就可以用自己已有的私钥解密，这样是安全的，但是服务端若要给客户端用私钥加密后传输数据，<strong>明文传输的公钥</strong>可能遭遇中间人劫持而不安全</p> <h3 id="非对称加密-对称加密"><a href="#非对称加密-对称加密" class="header-anchor">#</a> <strong>非对称加密+对称加密</strong></h3> <ol><li>某网站拥有用于非对称加密的公钥A、私钥A’。</li> <li>浏览器向网站服务器请求，服务器把公钥A明文给传输浏览器。</li> <li>浏览器随机生成一个用于对称加密的密钥X，用公钥A加密后传给服务器。</li> <li>服务器拿到后用私钥A’解密得到密钥X。</li> <li>这样双方就都拥有密钥X了，且别人无法知道它。之后双方所有数据都通过密钥X加密解密即可。</li></ol> <h3 id="中间人攻击"><a href="#中间人攻击" class="header-anchor">#</a> 中间人攻击</h3> <ol><li>某网站有用于非对称加密的公钥A、私钥A’。</li> <li>浏览器向网站服务器请求，服务器把公钥A明文给传输浏览器。</li> <li><strong>中间人劫持到公钥A，保存下来，把数据包中的公钥A替换成自己伪造的公钥B（它当然也拥有公钥B对应的私钥B’）</strong>。</li> <li>浏览器生成一个用于对称加密的密钥X，用<strong>公钥B</strong>（浏览器无法得知公钥被替换了）加密后传给服务器。</li> <li><strong>中间人劫持后用私钥B’解密得到密钥X，再用公钥A加密后传给服务器</strong>。</li> <li>服务器拿到后用私钥A’解密得到密钥X。</li></ol> <p>双方都不会发现异常的情况下，“狸猫换太子”，掉包了服务器传来的公钥，进而得到了密钥X</p> <p><strong>根本原因</strong>：<strong>浏览器无法确认收到的公钥是不是网站自己的---数字证书</strong></p> <h3 id="数字证书"><a href="#数字证书" class="header-anchor">#</a> 数字证书</h3> <p>网站在使用HTTPS前，需要向<strong>CA机构</strong>申领一份<strong>数字证书</strong>，数字证书里含有证书持有者信息、公钥信息等，服务器把证书传输给浏览器，浏览器从证书里获取公钥就行了</p> <p><strong>问题</strong>：“<strong>证书本身的传输过程中，如何防止被篡改”</strong>？即如何证明证书本身的真实性，数字证书如何防伪---<strong>数字签名</strong></p> <h3 id="数字签名"><a href="#数字签名" class="header-anchor">#</a> 数字签名</h3> <p>数字签名制作过程：</p> <ol><li>CA机构拥有非对称加密的私钥和公钥。</li> <li>CA机构对证书明文数据T进行hash。</li> <li>对hash后的值用私钥加密，得到数字签名S</li></ol> <p>浏览器验证过程：</p> <ol><li>拿到证书，得到明文T，签名S。</li> <li>用CA机构的公钥对S解密（由于是浏览器信任的机构，所以浏览器保有它的公钥），得到S’。</li> <li>用证书里指明的hash算法对明文T进行hash得到T’。</li> <li>显然通过以上步骤，T’应当等于S‘，除非明文或签名被篡改。所以此时比较S’是否等于T’，等于则表明证书可信</li></ol> <p>而中间人由于没有CA机构的私钥，所以无法得到此时加密后签名，无法相应地篡改签名。浏览器收到该证书后会发现原文和签名解密后的值不一致，则说明证书已被篡改，证书不可信，从而终止向服务器传输信息，防止信息泄露给中间人。</p> <p><strong>每次进行HTTPS请求时都</strong>必须<strong>在SSL/TLS层进行握手传输密钥吗</strong></p> <p>服务器会为每个浏览器（或客户端软件）维护一个session ID，在TLS握手阶段传给浏览器，浏览器生成好密钥传给服务器后，服务器会把该密钥存到相应的session ID下，之后浏览器每次请求都会携带session ID，服务器会根据session ID找到相应的密钥并进行解密加密操作，这样就不必要每次重新制作、传输密钥了</p> <p><strong>总结</strong></p> <p>本质是通过非对称加密传输对称加密的秘钥</p> <p>用非对称加密加密对称加密的秘钥发出，私钥解密密文得到对称加密的秘钥</p> <p>客户端拥有非对称加密的公钥和私钥，将公钥明文传输给浏览器，浏览器随机生成一个用于对称加密的秘钥后，用该公钥加密后返回给客户端，客户端用已有的私钥解密后获得对称加密的秘钥，之后的数据加密与解密都使用该秘钥进行加密和解密。为了防止中间人攻击引入了数字证书和签名，其中<strong>数字证书（包含持有人信息和公钥信息）<strong>保证给浏览器的公钥确实来自客户端，而</strong>数字签名</strong>保证数字证书的可信，防伪。</p> <p>采用非对称加密因为安全性，采用对称加密是因为他加解密速度快</p> <p><strong>详细</strong>：整个过程涉及三种秘钥，客户端的非对称加密公钥私钥+浏览器随机生成对称加密秘钥+CA机构用于数字签名的非对称加密私钥（CA机构加密证书）公钥（浏览器受信任拥有，解密证书获得客户端的公钥加密随机生成对称秘钥）</p> <p>为了使得浏览器确保自己收到的确实是来自客户端的，防止中间人攻击（狸猫换太子掉包），所以引入CA机构颁布的<strong>数字证书</strong>（包含持有者信息以及公钥信息），所以<strong>直接传输证书</strong>给浏览器用其中的公钥加密用于对称加密的秘钥后传输给客户端</p> <p>而为了确保证书没有被纂改（防伪），又引入了<strong>数字签名</strong>，是<strong>CA机构</strong>率先对证书明文数据hash成签名后附加到数据里并且对其进行<strong>私钥加密</strong>（CA机构方的私钥和秘钥），浏览器得到有数字签名的数字证书后，而被CA机构信任的浏览器拥有证书对应公钥所以可以对其解密，解密后将证书明文数据hash后对比与数字签名是否相同，相同则说明证书可信，可以使用该公钥对随机生成的对称加密的秘钥进行加密后传输给客户端。</p> <p>最后客户端利用自己已有的私钥解密获得用于对称加密的秘钥，之后客户端和浏览器就可以用对称加密的秘钥（仅双方知道）进行数据的加密和解密</p> <h2 id="tcp三次握手-建立连接-和四次挥手-断开连接"><a href="#tcp三次握手-建立连接-和四次挥手-断开连接" class="header-anchor">#</a> TCP三次握手（建立连接）和四次挥手（断开连接）</h2> <p>TCP传输控制协议：将数据流从一台主机可靠地传输到另一台主机</p> <p>三次握手的主要目的是确认自己和对方的发送和接收都是正常的，从而保证了双方能够进行可靠通信。若采用两次握手，当第二次握手后就建立连接的话，此时客户端知道服务器能够正常接收到自己发送的数据，而服务器并不知道客户端是否能够收到自己发送的数据。</p> <p>三次握手---三个包确认TCP连接---<strong>确认服务器端能够正常发送数据</strong></p> <blockquote><ol><li><strong>客户端</strong>---SYN(SYNK？发起一个连接)---&gt;服务器端 (表示希望建立连接)</li> <li>服务器端---SYN(同步)+ACK(应答，确认序号有效)---&gt;客户端 (确认客户端能正常发送数据，服务器端能正常接受)</li> <li>客户端---ACK---&gt;服务器端（<strong>确认服务器端能够正常发送数据</strong>）</li></ol></blockquote> <p>四次挥手---四个包确认TCP连接断开---<strong>另一方数据可能没发送完</strong></p> <blockquote><ol><li>客户端---FIN(释放一个连接)---&gt;服务器端（关闭客户端到服务器端的数据传送，没有数据可发了，但还可以接受数据）</li> <li>服务器端---ACK---&gt;客户端（只是应答，<strong>但是数据可能没发送完</strong>）</li> <li>服务器端---FIN---&gt;客户端（发送完数据，关闭服务器端到客户端的数据传送）</li> <li>客户端收到FIN---ACK---&gt;客户端（最后应答确认关闭）</li></ol></blockquote> <p>之所以要四次挥手，因为一次挥手加确认，只代表一方不再发送数据，但另一方可能数据还没发送完，处理完后再一次挥手完成断开</p> <h2 id="tcp和udp"><a href="#tcp和udp" class="header-anchor">#</a> TCP和UDP</h2> <p>TCP通信可看作打电话，UDP可看为学校里的广播</p> <p>TCP点对点，UDP可以一对一也可以一对多还可以多对多</p> <p>TCP/IP即传输控制/网络协议，是面向<strong>连接</strong>的协议，发送数据前<strong>要先建立连接</strong></p> <p>UDP是<strong>无连接</strong>，的协议发送数据前不需要建立连接，是没有<strong>可靠性</strong>的协议。因为不需要建立连接所以可以在在网络上以任何可能的路径传输，因此能否到达目的地，到达目的地的时间以及内容的正确性都是不能被保证的</p> <p>应用场景：</p> <p>对某些<strong>实时性</strong>要求比较高的情况使用UDP，比如游戏，媒体通信，<strong>实时直播</strong>，即使出现传输错误也可以容忍；</p> <p>其它大部分情况下，<strong>HTTP</strong>都是用TCP，因为要求传输的<strong>内容可靠，不出现丢失</strong>的情况</p> <h2 id="前端安全问题"><a href="#前端安全问题" class="header-anchor">#</a> 前端安全问题</h2> <p>XSS跨站脚本攻击和CSRF跨站请求伪造</p> <p>XSS攻击的主要核心是脚本，利用编程漏洞植入js脚本，获取用户敏感信息</p> <p>CSRF攻击的主要核心是伪造，利用浏览器自动发送cookie的特性伪造用户身份</p> <p>XSS预防<strong>从输入到输出都进行过滤、转义</strong>，因为XSS攻击两道要素攻击者提交恶意代码、浏览器执行恶意代码</p> <p>CSRF预防<strong>常用token令牌在请求时放到header</strong>中</p> <h2 id="http响应码"><a href="#http响应码" class="header-anchor">#</a> http响应码</h2> <p>1开头：信息响应，100---continue客户端应继续发送请求</p> <p>2开头：成功响应，200---ok服务器成功处理了请求</p> <p>3开头：重定向响应，要完成请求还需要进一步操作，304---协商缓存---上次请求后页面未修改</p> <p>4开头：客户端错误响应，404---服务器找不到请求的资源</p> <p>5开头：服务端错误响应</p> <h2 id="http各个版本特性"><a href="#http各个版本特性" class="header-anchor">#</a> http各个版本特性</h2> <p>http为超文本传输协议，是TCP/IP协议的一个应用层协议，定义浏览器与服务器之间交换数据的过程（通讯的格式），由请求和响应组成【请求方法、请求路径、http版本、请求头/响应头、消息主体】</p> <p>0.9：第一个协议，已过时，没有协议头只支持纯文本，只有GET</p> <p>1.0：至今广泛使用，任何格式都可以发送，引入POST和HEAD命令；通信包含头信息HTTP header；响应状态码</p> <p>1.1：目前使用最广泛，新增默认<strong>长链接</strong>；新增PUT/DELETE/OPTIONS等；管道机制（同一个TCP连接里客户端可以同时发送多个请求）<strong>复用TCP连接</strong></p> <p>2.0：使用<strong>二进制</strong>传送，而1.x为文本传送；<strong>头部压缩</strong>（解决冗余量大问题）；支持多路复用（一个http请求实现多个http请求传输）；支持服务器推送（之前只能客户端单向发起）</p> <h3 id="长链接"><a href="#长链接" class="header-anchor">#</a> 长链接</h3> <p>所谓长连接，指<strong>在一个TCP连接上可以连续发送多个数据包，在TCP连接保持期间，如果没有数据包发送，需要双方发检测包以维持此连接</strong>。 短连接是指通信双方有数据交互时，就建立一个TCP连接，数据发送完成后，则断开此TCP连接，即每次TCP连接只完成一对 CMPP消息的发送</p> <h2 id="http队头阻塞"><a href="#http队头阻塞" class="header-anchor">#</a> http队头阻塞</h2> <p>虽然1.1版允许复用TCP连接，但是同一个TCP连接里面，所有的数据通信是<strong>按次序</strong>进行的。服务器只有处理完一个回应，才会进行下一个回应。要是前面的回应特别慢，后面就会有许多请求排队等着。这称为&quot;队头堵塞&quot;（Head-of-line blocking）</p> <h3 id="_2-0没有真正解决队头阻塞"><a href="#_2-0没有真正解决队头阻塞" class="header-anchor">#</a> 2.0没有真正解决队头阻塞：</h3> <p>使用 <strong>SPDY协议</strong> 作为 HTTP/2 的起点，并使用<strong>多路复用</strong>（单个连接上可以进行并行交错的请求和响应，之间互不干扰），解决了队头阻塞的问题</p> <p><strong>根源问题</strong>：<strong>不过 TCP 本身的队头阻塞是无法避免的</strong>，而且对其影响更大，因为<strong>多个同域名的请求都只会使用同一个 TCP 连接，不会有多个并行连接</strong></p> <h3 id="http3"><a href="#http3" class="header-anchor">#</a> http3</h3> <p>不管是持久连接还是多路复用，都会受到 TCP 队头阻塞的影响，所以 HTTP/3 直接弃用 TCP 协议，<strong>改用基于 UDP协议 的 QUIC协议 来实现</strong></p> <p>SPDY ---&gt; QUIC （speed-&gt;quick）</p> <h2 id="http请求方式-get-post等"><a href="#http请求方式-get-post等" class="header-anchor">#</a> http请求方式---get post等</h2> <p>get：从服务端获取资源</p> <p>post：向指定资源提交数据进行<strong>处理</strong>请求，如提交表单或上传文件</p> <p>options：得到目的资源所支持的通信选项（http请求方式）</p> <p>还有put（向指定资源上传最新内容）和delete（删除Request-URL所标识的资源）</p> <h2 id="进程和线程"><a href="#进程和线程" class="header-anchor">#</a> 进程和线程</h2> <p>进程：资源分配最小单位</p> <p>线程：程序执行最小单位，包含在进程中</p></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#osi七层模型" class="sidebar-link reco-side-osi七层模型" data-v-b57cc07c>OSI七层模型</a></li><li class="level-2" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#websocket" class="sidebar-link reco-side-websocket" data-v-b57cc07c>websocket</a></li><li class="level-2" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#http和https的区别" class="sidebar-link reco-side-http和https的区别" data-v-b57cc07c>http和https的区别</a></li><li class="level-2" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#http消息头content-type" class="sidebar-link reco-side-http消息头content-type" data-v-b57cc07c>http消息头content-type</a></li><li class="level-2" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#https加密过程" class="sidebar-link reco-side-https加密过程" data-v-b57cc07c>https加密过程</a></li><li class="level-3" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#非对称加密-对称加密" class="sidebar-link reco-side-非对称加密-对称加密" data-v-b57cc07c>非对称加密+对称加密</a></li><li class="level-3" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#中间人攻击" class="sidebar-link reco-side-中间人攻击" data-v-b57cc07c>中间人攻击</a></li><li class="level-3" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#数字证书" class="sidebar-link reco-side-数字证书" data-v-b57cc07c>数字证书</a></li><li class="level-3" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#数字签名" class="sidebar-link reco-side-数字签名" data-v-b57cc07c>数字签名</a></li><li class="level-2" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#tcp三次握手-建立连接-和四次挥手-断开连接" class="sidebar-link reco-side-tcp三次握手-建立连接-和四次挥手-断开连接" data-v-b57cc07c>TCP三次握手（建立连接）和四次挥手（断开连接）</a></li><li class="level-2" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#tcp和udp" class="sidebar-link reco-side-tcp和udp" data-v-b57cc07c>TCP和UDP</a></li><li class="level-2" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#前端安全问题" class="sidebar-link reco-side-前端安全问题" data-v-b57cc07c>前端安全问题</a></li><li class="level-2" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#http响应码" class="sidebar-link reco-side-http响应码" data-v-b57cc07c>http响应码</a></li><li class="level-2" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#http各个版本特性" class="sidebar-link reco-side-http各个版本特性" data-v-b57cc07c>http各个版本特性</a></li><li class="level-3" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#长链接" class="sidebar-link reco-side-长链接" data-v-b57cc07c>长链接</a></li><li class="level-2" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#http队头阻塞" class="sidebar-link reco-side-http队头阻塞" data-v-b57cc07c>http队头阻塞</a></li><li class="level-3" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#_2-0没有真正解决队头阻塞" class="sidebar-link reco-side-_2-0没有真正解决队头阻塞" data-v-b57cc07c>2.0没有真正解决队头阻塞：</a></li><li class="level-3" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#http3" class="sidebar-link reco-side-http3" data-v-b57cc07c>http3</a></li><li class="level-2" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#http请求方式-get-post等" class="sidebar-link reco-side-http请求方式-get-post等" data-v-b57cc07c>http请求方式---get post等</a></li><li class="level-2" data-v-b57cc07c><a href="/9blog/blogs/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html#进程和线程" class="sidebar-link reco-side-进程和线程" data-v-b57cc07c>进程和线程</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/9blog/assets/js/app.3e8fe7ca.js" defer></script><script src="/9blog/assets/js/3.4ae95a2d.js" defer></script><script src="/9blog/assets/js/1.ac641155.js" defer></script><script src="/9blog/assets/js/33.b2484fc9.js" defer></script>
  </body>
</html>
